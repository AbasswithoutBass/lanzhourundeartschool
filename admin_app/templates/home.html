<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>管理后台</title>
  <style>
    body{font-family:-apple-system,BlinkMacSystemFont,"PingFang SC",sans-serif;background:#f5f5f7;margin:0}
    header{background:#fff;border-bottom:1px solid rgba(0,0,0,.06);padding:14px 18px;display:flex;align-items:center;justify-content:space-between}
    a{color:#660874;text-decoration:none}
    .wrap{max-width:980px;margin:24px auto;padding:0 16px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px}
    .card{background:#fff;border-radius:16px;padding:16px;box-shadow:0 10px 24px rgba(0,0,0,.06);border:1px solid rgba(0,0,0,.06)}
    .k{color:#666;font-size:13px}
    .v{font-size:26px;font-weight:700;margin-top:6px}
    .btn{display:inline-block;margin-top:12px;padding:10px 12px;border-radius:12px;background:#660874;color:#fff;font-weight:600}
  </style>
</head>
<body>
  <header>
    <div style="font-weight:700">润德网站管理后台</div>
    <div><a href="/logout">退出</a></div>
  </header>

  <div class="wrap">
    <div class="grid">
      <div class="card">
        <div class="k">教师库</div>
        <div class="v">{{ teacher_count }}</div>
        <a class="btn" href="/admin/teachers">教师管理 / 拖拽排序</a>
      </div>
      <div class="card">
        <div class="k">学生数据库</div>
        <div class="v">{{ student_db_count }}</div>
        <a class="btn" href="/admin/students-db">学生数据库管理</a>
        <div class="k" style="margin-top:10px;line-height:1.5">名人堂从学生数据库同步生成。</div>
      </div>
      <div class="card">
        <div class="k">名人堂（同步）</div>
        <div class="v">{{ hall_count }}</div>
        <a class="btn" href="/admin/students">查看名人堂数据</a>
      </div>
      <div class="card">
        <div class="k">批量导入</div>
        <div class="v">—</div>
        <a class="btn" href="/admin/import">上传文件夹并导入</a>
        <div class="k" style="margin-top:10px;line-height:1.5">
          需规范目录：<span style="font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace">teachers/</span>、<span style="font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace">students/</span>，且 JSON 内路径必须匹配。
        </div>
      </div>

      <div class="card">
        <div class="k">信息门户</div>
        <div class="v">{{ portal_count }}</div>
        <a class="btn" href="/admin/portal">管理通知/政策/文章</a>
        <div class="k" style="margin-top:10px;line-height:1.5">
          前台“招生简章”页已升级为信息门户，从 <span style="font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace">data/portal_posts.json</span> 读取内容。
        </div>
      </div>

      <div class="card">
        <div class="k">海报工厂</div>
        <div class="v">—</div>
        <a class="btn" href="/admin/poster-factory">进入海报审核与导出</a>
        <div class="k" style="margin-top:10px;line-height:1.5">
          按主项/副项/综合分生成海报，支持审核与清晰度导出。
        </div>
      </div>

      <div class="card">
        <div class="k">部署与同步</div>
        <div class="v">—</div>
        <a class="btn" href="/admin/ops">查看同步状态 / 快速回滚</a>
        <div class="k" style="margin-top:10px;line-height:1.5">
          线上模式下，每次保存都会提交到 GitHub 并触发 Cloudflare 自动部署。
        </div>
      </div>
    </div>
  </div>
</body>
</html>
